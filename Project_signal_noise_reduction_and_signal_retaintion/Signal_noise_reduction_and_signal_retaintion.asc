Version 4
SHEET 1 1772 884
WIRE 416 -208 416 -304
WIRE 464 -208 416 -208
WIRE 1024 -208 1024 -304
WIRE 1072 -208 1024 -208
WIRE 384 -160 304 -160
WIRE 480 -160 464 -160
WIRE 992 -160 912 -160
WIRE 1088 -160 1072 -160
WIRE 528 -144 528 -160
WIRE 544 -144 544 -208
WIRE 544 -144 528 -144
WIRE 1136 -144 1136 -160
WIRE 1152 -144 1152 -208
WIRE 1152 -144 1136 -144
WIRE -96 -96 -96 -160
WIRE 48 -96 48 -160
WIRE 304 -96 304 -160
WIRE 528 -96 528 -144
WIRE 912 -96 912 -160
WIRE 1136 -96 1136 -144
WIRE -32 -16 -96 -16
WIRE 48 -16 -32 -16
WIRE -32 0 -32 -16
WIRE -16 96 -80 96
WIRE 128 96 64 96
WIRE 1200 96 1152 96
WIRE 1408 96 1280 96
WIRE 1456 96 1408 96
WIRE 304 112 256 112
WIRE 448 112 384 112
WIRE -224 128 -240 128
WIRE -112 128 -144 128
WIRE 544 128 464 128
WIRE 1040 176 1008 176
WIRE 1152 176 1152 96
WIRE 1152 176 1120 176
WIRE 1168 176 1152 176
WIRE 1296 176 1232 176
WIRE 1296 192 1296 176
WIRE 464 208 464 128
WIRE 480 208 464 208
WIRE 1408 208 1408 96
WIRE -112 224 -112 128
WIRE -80 224 -80 96
WIRE -80 224 -112 224
WIRE 0 224 -80 224
WIRE -224 240 -240 240
WIRE -112 240 -112 224
WIRE -112 240 -144 240
WIRE 128 240 128 96
WIRE 128 240 64 240
WIRE 144 240 128 240
WIRE 256 240 256 112
WIRE 256 240 224 240
WIRE 304 240 256 240
WIRE 0 256 -64 256
WIRE 448 256 448 112
WIRE 448 256 368 256
WIRE 496 256 448 256
WIRE 560 256 560 208
WIRE 560 256 544 256
WIRE 304 272 256 272
WIRE -64 304 -64 256
WIRE 256 304 256 272
WIRE 544 304 544 256
WIRE 1296 304 1296 272
WIRE 1408 304 1408 272
WIRE 1408 304 1296 304
WIRE 1296 336 1296 304
WIRE 416 400 320 400
WIRE 1264 464 1200 464
WIRE 1392 480 1328 480
WIRE 1456 480 1392 480
WIRE -192 496 -256 496
WIRE -64 496 -112 496
WIRE -32 496 -64 496
WIRE 96 496 48 496
WIRE 144 496 96 496
WIRE 240 496 224 496
WIRE 320 496 320 400
WIRE 480 496 464 496
WIRE 1264 496 1216 496
WIRE 96 512 96 496
WIRE -64 528 -64 496
WIRE -64 608 -64 592
WIRE 96 608 96 576
WIRE 96 608 -64 608
WIRE 480 608 480 496
WIRE 480 608 96 608
WIRE 1216 608 1216 496
WIRE 1280 608 1216 608
WIRE 1392 608 1392 480
WIRE 1392 608 1360 608
WIRE -64 624 -64 608
WIRE 1216 640 1216 608
WIRE 1216 752 1216 720
FLAG 912 -16 0
FLAG 1136 -96 0
FLAG 1024 -304 noise_output
IOPIN 1024 -304 Out
FLAG 304 -16 0
FLAG 528 -96 0
FLAG 416 -304 signal_output
IOPIN 416 -304 Out
FLAG -32 0 0
FLAG -96 -160 V+
IOPIN -96 -160 Out
FLAG 48 -160 V-
IOPIN 48 -160 Out
FLAG -64 304 0
FLAG 32 208 V+
IOPIN 32 208 In
FLAG 32 272 V-
IOPIN 32 272 In
FLAG -240 128 signal_output
IOPIN -240 128 In
FLAG -240 240 noise_output
IOPIN -240 240 In
FLAG 336 224 V+
IOPIN 336 224 In
FLAG 336 288 V-
IOPIN 336 288 In
FLAG 256 304 0
FLAG 1008 176 signal_with_noise
IOPIN 1008 176 In
FLAG 1296 336 0
FLAG 544 304 0
FLAG 544 128 signal_with_noise
IOPIN 544 128 Out
FLAG 1456 96 filter_output
IOPIN 1456 96 Out
FLAG -256 496 filter_output
IOPIN -256 496 In
FLAG -64 624 0
FLAG 416 400 square_wave_output
IOPIN 416 400 Out
FLAG 1200 464 square_wave_output
IOPIN 1200 464 In
FLAG 1296 448 V-
IOPIN 1296 448 In
FLAG 1296 512 V+
IOPIN 1296 512 In
FLAG 1216 752 0
FLAG 1456 480 final_output
IOPIN 1456 480 Out
SYMBOL voltage 912 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 {von} 0 {ttrans} {ttrans} 0 {tperiod})
SYMBOL res 1088 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL e 1056 -208 R270
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL voltage 304 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 6 700e-6 0 0 200e-6 400e-6 5)
SYMBOL res 480 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL e 448 -208 R270
SYMATTR InstName E2
SYMATTR Value 1
SYMBOL voltage -96 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL voltage 48 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value -15
SYMBOL OpAmps\\AD711 32 176 R0
SYMATTR InstName U1
SYMBOL res -128 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res -128 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 80 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 240 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL OpAmps\\AD711 336 192 R0
SYMATTR InstName U2
SYMBOL res 400 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 1136 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 200
SYMBOL cap 1232 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.9n
SYMBOL ind 1280 176 R0
SYMATTR InstName L1
SYMATTR Value 25m
SYMBOL res 1296 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 50
SYMBOL cap 1392 208 R0
SYMATTR InstName C2
SYMATTR Value 50n
SYMBOL e 464 208 R270
SYMATTR InstName E3
SYMATTR Value 1
SYMBOL voltage -208 496 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 4.9
SYMBOL diode -80 528 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL voltage 64 496 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 0.5
SYMBOL diode 112 576 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL res 336 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL cap 384 480 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 0.2n
SYMBOL ind 368 512 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 0.5m
SYMBOL voltage 240 496 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 0.707
SYMBOL OpAmps\\AD711 1296 544 M180
SYMATTR InstName U3
SYMBOL res 1200 624 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res 1376 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 3k
TEXT 1280 -304 Left 2 !.tran 3000e-6
TEXT 1280 -144 Left 2 !;.param tperiod 10e-6
TEXT 1280 -104 Left 2 !.step param tperiod 1e-6 46e-6 14e-6
TEXT 1280 -216 Left 2 !;.param von 6
TEXT 1280 -184 Left 2 !.step param von 1 6 2
TEXT 1280 -272 Left 2 !;.param ttrans 5e-6
TEXT 1280 -240 Left 2 !.step param ttrans 0.1e-6 6e-6 2.1e-6
